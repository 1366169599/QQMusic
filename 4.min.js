(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{136:function(t,n){!function(t){"use strict";var n=function(t,n){var a=new Image,e=t.src||t;"data:"!==e.substring(0,5)&&(a.crossOrigin="Anonymous"),a.onload=function(){var t=document.createElement("canvas").getContext("2d");t.drawImage(a,0,0);var e=t.getImageData(0,0,a.width,a.height);n&&n(e.data)},a.src=e},a=function(t){return["rgb(",t,")"].join("")},e={};e.colors=function(t,e){var i=(e=e||{}).exclude||[],s=e.paletteSize||10;n(t,function(n){for(var o=t.width*t.height||n.length,c={},r="",l=[],u={dominant:{name:"",count:0},palette:Array.apply(null,new Array(s)).map(Boolean).map(function(){return{name:"0,0,0",count:0}})},d=0;o>d;){if(l[0]=n[d],l[1]=n[d+1],l[2]=n[d+2],c[r=l.join(",")]=r in c?c[r]+1:1,-1===i.indexOf(a(r))){var h=c[r];h>u.dominant.count?(u.dominant.name=r,u.dominant.count=h):u.palette.some(function(t){return h>t.count?(t.name=r,t.count=h,!0):void 0})}d+=20}if(e.success){var f=function(t){return t.map(function(t){return a(t.name)})}(u.palette);e.success({dominant:a(u.dominant.name),secondary:f[0],palette:f})}})},t.RGBaster=t.RGBaster||e}(window)},142:function(t,n,a){var e=a(302);"string"==typeof e&&(e=[[t.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(e,i);e.locals&&(t.exports=e.locals)},143:function(t,n,a){var e=a(304);"string"==typeof e&&(e=[[t.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(e,i);e.locals&&(t.exports=e.locals)},144:function(t,n,a){var e=a(306);"string"==typeof e&&(e=[[t.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(e,i);e.locals&&(t.exports=e.locals)},294:function(t,n,a){t.exports=a.p+"assets/comment.png"},295:function(t,n,a){t.exports=a.p+"assets/last.png"},296:function(t,n,a){t.exports=a.p+"assets/playWhite.png"},297:function(t,n,a){t.exports=a.p+"assets/stopWhite.png"},298:function(t,n,a){t.exports=a.p+"assets/next.png"},299:function(t,n,a){t.exports=a.p+"assets/menuWhite.png"},300:function(t,n,a){t.exports=a.p+"assets/share.png"},301:function(t,n,a){"use strict";var e=a(142);a.n(e).a},302:function(t,n,a){(t.exports=a(4)(!1)).push([t.i,"\n.picture[data-v-a14ccb60] {\n  height: 70vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.picture .plate[data-v-a14ccb60] {\n  width: 300px;\n  height: 300px;\n  background: black;\n  border-radius: 150px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: rotation-data-v-a14ccb60 15s linear infinite;\n}\n@keyframes rotation-data-v-a14ccb60 {\nfrom {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(360deg);\n}\n}\n.picture .plate .img-cont[data-v-a14ccb60] {\n  width: 200px;\n  height: 200px;\n  border-radius: 100px;\n  overflow: hidden;\n}\n.picture .plate .img-cont img[data-v-a14ccb60] {\n  width: 100%;\n  height: 100%;\n}\n",""])},303:function(t,n,a){"use strict";var e=a(143);a.n(e).a},304:function(t,n,a){(t.exports=a(4)(!1)).push([t.i,"\n.lyric {\n  text-align: center;\n  font-size: 16px;\n  overflow: auto;\n  height: 70vh;\n}\n",""])},305:function(t,n,a){"use strict";var e=a(144);a.n(e).a},306:function(t,n,a){(t.exports=a(4)(!1)).push([t.i,"\n.container[data-v-c8f8462c] {\n  height: 100vh;\n  position: relative;\n  overflow: hidden;\n}\n.container .title-bar[data-v-c8f8462c] {\n  display: flex;\n  height: 10vh;\n  box-shadow: 0 1px black;\n}\n.container .title-bar .img-cont[data-v-c8f8462c] {\n  height: 10vh;\n  width: 10vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.container .title-bar .img-cont img[data-v-c8f8462c] {\n  width: 60%;\n  height: 60%;\n}\n.container .title-bar .name[data-v-c8f8462c] {\n  flex-grow: 1;\n}\n.container .title-bar .name .song-name[data-v-c8f8462c] {\n  color: #ffffff;\n  line-height: 5vh;\n  font-size: 20px;\n  margin-top: 5px;\n}\n.container .title-bar .name .author[data-v-c8f8462c] {\n  font-size: 14px;\n  color: #d1d1d1;\n}\n.container .prograss[data-v-c8f8462c] {\n  height: 5vh;\n}\n.container .play-button[data-v-c8f8462c] {\n  position: fixed;\n  left: 0;\n  bottom: 5vh;\n  right: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 10vh;\n}\n.container .play-button .comment-button[data-v-c8f8462c] {\n  width: 20vw;\n  height: 10vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.container .play-button .comment-button img[data-v-c8f8462c] {\n  width: 40px;\n  height: 40px;\n}\n.container .play-button .button-cont[data-v-c8f8462c] {\n  height: 10vh;\n  width: 60vw;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  position: relative;\n}\n.container .play-button .button-cont .last[data-v-c8f8462c],\n.container .play-button .button-cont .next[data-v-c8f8462c] {\n  height: 10vh;\n  width: 20vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.container .play-button .button-cont .last img[data-v-c8f8462c],\n.container .play-button .button-cont .next img[data-v-c8f8462c] {\n  width: 40px;\n  height: 40px;\n}\n.container .play-button .button-cont .on-off-cont[data-v-c8f8462c] {\n  width: 10vh;\n  height: 20vw;\n  position: relative;\n}\n.container .play-button .button-cont .on-off-cont .on-off[data-v-c8f8462c] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.container .play-button .button-cont .on-off-cont .on-off img[data-v-c8f8462c] {\n  width: 50px;\n  height: 50px;\n}\n.container .menu-mask[data-v-c8f8462c] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n.container .menu-bar[data-v-c8f8462c] {\n  background: #ffffff;\n  height: 50%;\n  overflow: auto;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  border-radius: 10px 10px 0 0;\n  transform: translate(0, 100%);\n}\n.container .menu-bar p[data-v-c8f8462c] {\n  padding-left: 15px;\n  line-height: 50px;\n  border-bottom: 1px solid #d1d1d1;\n}\n.container .active[data-v-c8f8462c] {\n  transform: translate(0, 0);\n}\n",""])},323:function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"container"},[e("div",{staticClass:"title-bar"},[e("div",{staticClass:"img-cont",on:{click:t.returnLast}},[e("img",{attrs:{src:a(65),alt:""}})]),t._v(" "),e("div",{staticClass:"name"},[e("p",{staticClass:"song-name"},[t._v(t._s(t.$store.state.songName))]),t._v(" "),e("p",{staticClass:"author"},[t._v(t._s(t.$store.state.singerName))])]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"panel",on:{click:t.tabWeb}},[t.show?e("backgroundImg"):e("lyricWeb")],1),t._v(" "),e("div",{staticClass:"prograss"}),t._v(" "),e("div",{staticClass:"play-button"},[e("router-link",{staticClass:"comment-button",attrs:{to:"comment?id="+t.$store.state.song.id}},[e("img",{attrs:{src:a(294),alt:""}})]),t._v(" "),e("div",{staticClass:"button-cont"},[e("div",{staticClass:"last",on:{click:t.lastSong}},[e("img",{attrs:{src:a(295),alt:""}})]),t._v(" "),e("div",{staticClass:"on-off-cont"},[t.$store.state.playState?e("div",{staticClass:"on-off",on:{click:t.musicSwitch}},[e("img",{attrs:{src:a(297),alt:""}})]):e("div",{staticClass:"on-off",on:{click:t.musicSwitch}},[e("img",{attrs:{src:a(296),alt:""}})])]),t._v(" "),e("div",{staticClass:"next",on:{click:t.nextSong}},[e("img",{attrs:{src:a(298),alt:""}})])]),t._v(" "),e("div",{staticClass:"comment-button",on:{click:t.showMenuBar}},[e("img",{attrs:{src:a(299),alt:""}})])],1),t._v(" "),t.slip?e("div",{staticClass:"menu-mask",on:{click:t.hiddeMenu}}):t._e(),t._v(" "),e("div",{class:["menu-bar",{active:t.slip}]},t._l(t.$store.state.songs,function(n){return e("p",{on:{click:function(a){t.playMenuMusic(n,t.$store.state.songs)}}},[t._v(t._s(n.name)+"-"+t._s(t.getSinger(n)))])}))])])},i=[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"img-cont"},[n("img",{attrs:{src:a(300),alt:""}})])}];e._withStripped=!0;var s=function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("div",{staticClass:"picture"},[n("div",{staticClass:"plate"},[n("div",{staticClass:"img-cont"},[n("img",{attrs:{src:this.$store.state.song.al.picUrl,alt:""}})])])])])};s._withStripped=!0;a(301);var o=a(2),c=Object(o.a)({},s,[],!1,null,"a14ccb60",null);c.options.__file="src/detail/backgroundImg.vue";var r=c.exports,l=function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("div",{staticClass:"lyric"},[n("pre",{domProps:{innerHTML:this._s(this.text)}})])])};l._withStripped=!0;var u={data:function(){return{text:""}},created:function(){var t=this;this.$axios({method:"get",url:"/lyric?id="+this.$store.state.song.id}).then(function(n){console.log(n.data),t.text=n.data.lrc.lyric.replace(/\[.*\]/g,"")})}},d=(a(303),Object(o.a)(u,l,[],!1,null,null,null));d.options.__file="src/detail/lyricWeb.vue";var h=d.exports,f=(a(136),{data:function(){return{show:!0,slip:!1}},methods:{musicSwitch:function(){this.$store.state.playState?this.$store.state.audioElement.pause():this.$store.state.audioElement.play(),this.$store.commit("setPlayState",!this.$store.state.playState)},returnLast:function(){this.goBack(),this.$store.state.showPlayBar=!0},tabWeb:function(){this.show=!this.show},getSinger:function(t){return t.ar.map(function(t){return t.name}).join("/")},showMenuBar:function(){this.slip=!0},hiddeMenu:function(){this.slip=!1},playMenuMusic:function(t,n){this.playMusic(t,n),this.$store.commit("setShowPlayBar",!1)},lastSong:function(){var t=this.$store.state.song,n=this.$store.state.songs,a=n.indexOf(t);if(a>0)this.playMusic(n[a-1],n);else{var e=n.length;this.playMusic(n[e-1],n)}this.$store.commit("setShowPlayBar",!1),this.changeBg()},nextSong:function(){var t=this.$store.state.song,n=this.$store.state.songs,a=n.indexOf(t);a==n.length-1?this.playMusic(n[0],n):this.playMusic(n[a+1],n),this.$store.commit("setShowPlayBar",!1),this.changeBg()},changeBg:function(){var t=this;this.$nextTick(function(){RGBaster.colors(t.$store.state.song.al.picUrl,{exclude:["rgb(255,255,255)","rgb(0,0,0)"],success:function(t){document.getElementsByClassName("container")[0].style="background:linear-gradient(45deg, "+t.dominant+", "+t.secondary+")"}})})}},mounted:function(){this.changeBg()},components:{backgroundImg:r,lyricWeb:h}}),p=(a(305),Object(o.a)(f,e,i,!1,null,"c8f8462c",null));p.options.__file="src/detail.vue";n.default=p.exports},65:function(t,n,a){t.exports=a.p+"assets/arrowsWhite.png"}}]);